{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/users/{userId}":{"get":{"tags":["user-controller"],"summary":"Get user information.","description":"Get user information.","operationId":"getUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"post":{"tags":["user-controller"],"summary":"Update user information","description":"Update user information","operationId":"updateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDTO"}}},"required":true},"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/v1/users/{userId}/preferences":{"get":{"tags":["user-controller"],"summary":"Returns the preferences of a given user","description":"Returns the preferences of a given user","operationId":"getUserPreferences","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPreferencesDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPreferencesDTO"}}}}}},"post":{"tags":["user-controller"],"summary":"Updates user preferences","description":"Updates user preferences","operationId":"postUserPreferences","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserPreferencesDTO"}}},"required":true},"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPreferencesDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserPreferencesDTO"}}}}}}},"/api/v1/users/login":{"post":{"tags":["user-controller"],"summary":"Retrieves the user information for the user with matching username and password","description":"Retrieves the user information for the user with matching username and password","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCredentialsDTO"}}},"required":true},"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/v1/users/create":{"post":{"tags":["user-controller"],"summary":"Creates a new user from the information given","description":"Creates a new user from the information given","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDTO"}}},"required":true},"responses":{"400":{"description":"Missing required data for user creation","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"401":{"description":"Unauthorized, this Username is already taken.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"/api/v1/notifications/{userId}/remove":{"post":{"tags":["notification-controller"],"summary":"Voids the notifications listed so the user won't be pinged about them anymore","description":"Voids the notifications listed so the user won't be pinged about them anymore","operationId":"removeNotificationsFor","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"ids","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int32"}}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"boolean"}}}},"400":{"description":"Missing user id or notification ids","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/notifications/push-to-user/{userId}":{"post":{"tags":["notification-controller"],"summary":"Pushes the provided notification to a given user","description":"Pushes the provided notification to a given user","operationId":"pushToUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationDTO"}}},"required":true},"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"boolean"}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/notifications/push-to-group/{groupId}":{"post":{"tags":["notification-controller"],"summary":"Pushes a notification to all members of a group","description":"Pushes a notification to all members of a group","operationId":"pushToGroup","parameters":[{"name":"groupId","in":"path","description":"id of group","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationDTO"}}},"required":true},"responses":{"404":{"description":"No such group","content":{"*/*":{"schema":{"type":"boolean"}}}},"400":{"description":"Missing group id","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/groups/{groupId}/update":{"post":{"tags":["group-controller"],"summary":"Update the group information to be xxx, admin only.","description":"Update the group information to be xxx, admin only.\n Returns the full updated information of the group.","operationId":"updateGroup","parameters":[{"name":"groupId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGroupDTO"}}},"required":true},"responses":{"401":{"description":"Unauthorized, acting user is not admin","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"400":{"description":"Invalid values to be updated","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"404":{"description":"No such group or no such acting user","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}}}}},"/api/v1/groups/{groupId}/remove-user/{userInQuestion}":{"post":{"tags":["group-controller"],"summary":"Removes the user from the group if the acting user is authorized to do so","description":"Removes the user from the group if the acting user is authorized to do so","operationId":"removeUser","parameters":[{"name":"userInQuestion","in":"path","description":"id of user to be removed","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"groupId","in":"path","description":"id of group","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Credentials of the user performing this action","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCredentialsDTO"}}},"required":true},"responses":{"400":{"description":"Invalid acting user","content":{"*/*":{"schema":{"type":"boolean"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/groups/{groupId}/delete":{"post":{"tags":["group-controller"],"summary":"Deletes a given group if the acting user is authorized to do so","description":"Deletes a given group if the acting user is authorized to do so","operationId":"deleteGroup","parameters":[{"name":"groupId","in":"path","description":"group to delete","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"of the user trying to delete said group","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCredentialsDTO"}}},"required":true},"responses":{"400":{"description":"Invalid acting user","content":{"*/*":{"schema":{"type":"boolean"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/groups/{groupId}/add-user/{userId}":{"post":{"tags":["group-controller"],"summary":"Adds a user to an existing group","description":"Adds a user to an existing group","operationId":"joinGroup","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Adds a user to an existing group","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/groups/join":{"post":{"tags":["group-controller"],"summary":"Adds a user to a group.","description":"Adds a user to a group. URI example: /api/v1/groups/join?groupId=1&userId=1","operationId":"linkJoin","parameters":[{"name":"groupId","in":"query","description":"id of group","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"userId","in":"query","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such user or no such group","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"400":{"description":"Missing groupId or userId","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}}}}},"/api/v1/groups/create":{"post":{"tags":["group-controller"],"summary":"Creates a new group","description":"Creates a new group","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGroupDTO"}}},"required":true},"responses":{"404":{"description":"No such user - A user that doesn't exist can't be admin.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}}}}},"/api/v1/debt/{userA}/pay/{userB}/amount/{amount}":{"post":{"tags":["debt-controller"],"summary":"Pay debt between two users","description":"Pay debt between two users","operationId":"totalDebtOwedToUser","parameters":[{"name":"userA","in":"path","description":"id of user who pays","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"userB","in":"path","description":"id of user to receive payment","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"amount","in":"path","description":"how much","required":true,"schema":{"type":"number","format":"double"}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"400":{"description":"Missing user id or missing amount","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/v1/debt/{userA}/distribute/{amount}":{"post":{"tags":["debt-controller"],"summary":"Distributes debt of UserA between all users listed.","description":"Distributes debt of UserA between all users listed. I.e. api/v1/debt/{UserA}/distribute/200?creditors=1,2,3,4","operationId":"distributeDebt","parameters":[{"name":"userA","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"amount","in":"path","required":true,"schema":{"type":"number","format":"double"}},{"name":"creditors","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int32"}}}],"responses":{"404":{"description":"UserA not found or any creditor not found","content":{"*/*":{"schema":{"type":"boolean"}}}},"400":{"description":"Invalid amount","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/debt/{userA}/add/{userB}/amount/{amount}":{"post":{"tags":["debt-controller"],"summary":"Add debt between two users","description":"Add debt between two users","operationId":"addDebt","parameters":[{"name":"userA","in":"path","description":"id of user who owes money","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"userB","in":"path","description":"id of user who is receiving this money","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"amount","in":"path","required":true,"schema":{"type":"number","format":"double"}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"boolean"}}}},"400":{"description":"Missing user id or missing amount","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/users":{"get":{"tags":["user-controller"],"summary":"Users of listed ids URI Example: /api/v1/users?ids=1,7,32,45\n Request parameters are mutually exclusive","description":"Users of listed ids URI Example: /api/v1/users?ids=1,7,32,45\n Request parameters are mutually exclusive","operationId":"getUsers","parameters":[{"name":"ids","in":"query","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int32"}}},{"name":"usernames","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"400":{"description":"Invalid or missing id list","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}}},"/api/v1/users/{userId}/groups":{"get":{"tags":["user-controller"],"summary":"All groups the user is part of.","description":"All groups the user is part of. An empty list if none.","operationId":"getUserGroups","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"Success","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupDTO"}}}}}}}},"/api/v1/notifications/{userId}":{"get":{"tags":["notification-controller"],"summary":"Get all notifications for the user.","description":"Get all notifications for the user.","operationId":"getAllNotifications","parameters":[{"name":"userId","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationDTO"}}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationDTO"}}}}}}}},"/api/v1/notifications/{userId}/amount":{"get":{"tags":["notification-controller"],"summary":"Get the amount of notifications currently available for a given user.","description":"Get the amount of notifications currently available for a given user.","operationId":"getAmountFor","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/v1/groups/{groupId}":{"get":{"tags":["group-controller"],"summary":"The information about that group","description":"The information about that group","operationId":"getGroup","parameters":[{"name":"groupId","in":"path","description":"id of group","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such group","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"400":{"description":"Missing group id","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupDTO"}}}}}}},"/api/v1/groups/{groupId}/is-admin/{userId}":{"get":{"tags":["group-controller"],"summary":"Checks if the user is the admin of said group or not","description":"Checks if the user is the admin of said group or not","operationId":"checkAdmin","parameters":[{"name":"groupId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such user or no such group","content":{"*/*":{"schema":{"type":"boolean"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/debt/{userId}/to-group/{groupId}":{"get":{"tags":["debt-controller"],"summary":"How much money a user owes a certain group in total","description":"How much money a user owes a certain group in total","operationId":"getHowMuchUserOwesGroup","parameters":[{"name":"userId","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"groupId","in":"path","description":"id of group","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"No such group or no such user","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"400":{"description":"Missing group id or missing user id","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/v1/debt/{userA}":{"get":{"tags":["debt-controller"],"summary":"Get total amount owed by user to anyone","description":"Get total amount owed by user to anyone","operationId":"totalDebtByUser","parameters":[{"name":"userA","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/v1/debt/{userA}/to-user/{userB}":{"get":{"tags":["debt-controller"],"summary":"How much money a user owes another user","description":"How much money a user owes another user","operationId":"getHowMuchUserOwesUser","parameters":[{"name":"userA","in":"path","description":"id of userA","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"userB","in":"path","description":"id of userB","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/v1/debt/{userA}/creditors":{"get":{"tags":["debt-controller"],"summary":"Who does a user owe money","description":"Who does a user owe money","operationId":"getWhoOwesThisUserMoney","parameters":[{"name":"userA","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}}}}},"/api/v1/debt/who-owes/{userA}":{"get":{"tags":["debt-controller"],"summary":"Who owes money to this user","description":"Who owes money to this user","operationId":"whoOwesMoneyToThisUser","parameters":[{"name":"userA","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DebtDTO"}}}}}}}},"/api/v1/debt/who-owes/{userA}/total":{"get":{"tags":["debt-controller"],"summary":"Get total amount owed to user by anyone","description":"Get total amount owed to user by anyone","operationId":"totalDebtOwedToUser_1","parameters":[{"name":"userA","in":"path","description":"id of user","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"400":{"description":"Missing user id","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"404":{"description":"No such user","content":{"*/*":{"schema":{"type":"number","format":"double"}}}},"200":{"description":"Success","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}}},"components":{"schemas":{"UpdateUserDTO":{"type":"object","properties":{"name":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}},"description":""},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"username":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"phoneNumber":{"type":"string"}},"description":""},"UpdateUserPreferencesDTO":{"type":"object","properties":{"updatedShowNotifications":{"type":"boolean"}},"description":""},"UserPreferencesDTO":{"type":"object","properties":{"showNotifications":{"type":"boolean"}},"description":""},"UserCredentialsDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"description":""},"CreateUserDTO":{"type":"object","properties":{"username":{"type":"string"},"passwordHash":{"type":"string"},"name":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}},"description":""},"NotificationDTO":{"type":"object","properties":{"title":{"type":"string"},"message":{"type":"string"}},"description":""},"UpdateGroupDTO":{"type":"object","properties":{"idOfActingUser":{"type":"integer","format":"int32"},"updatedTitle":{"type":"string"},"updatedDescription":{"type":"string"},"updatedColor":{"type":"integer","format":"int32"}},"description":""},"GroupDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"adminId":{"type":"integer","format":"int32"},"name":{"type":"string"},"descriptions":{"type":"string"},"groupColor":{"type":"integer","format":"int32"},"users":{"type":"array","items":{"type":"integer","format":"int32"}}},"description":""},"CreateGroupDTO":{"type":"object","properties":{"idOfAdmin":{"type":"integer","format":"int32"},"name":{"type":"string"},"desc":{"type":"string"},"groupColor":{"type":"integer","format":"int32"}},"description":""},"DebtDTO":{"type":"object","properties":{"idOfCreditor":{"type":"integer","format":"int32"},"amount":{"type":"number","format":"double"}},"description":""}}}}